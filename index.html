<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; background: transparent; font-family: 'Segoe UI', sans-serif; overflow: hidden; height: 100%; }
        
        .main-container {
            width: 100%; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .lang-panel { position: absolute; top: 10px; right: 10px; display: flex; gap: 5px; z-index: 100; }
        .l-btn { 
            background: rgba(0,0,0,0.6); color: white; border: 1px solid #ccc; 
            padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 11px; 
        }
        .l-btn.active { background: #4A90E2; color: white; border-color: #4A90E2; font-weight: bold; }

        .pig-area { position: relative; width: 260px; height: 180px; display: flex; align-items: flex-end; justify-content: center; margin-bottom: 10px; }
        .pig-body { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; 
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .fill-level { 
            width: 165px; height: 0%; 
            background: linear-gradient(to top, #4A90E2, #50E3C2); 
            border-radius: 0 0 80px 80px; margin-bottom: 25px; 
            transition: height 0.6s ease-out; z-index: 5;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }

        .stats { 
            font-size: 22px; color: #333; font-weight: bold; 
            margin-bottom: 15px; text-shadow: 1px 1px 0px white;
        }

        .question-box { 
            color: #333; font-size: 18px; text-align: center; max-width: 90%; margin-bottom: 20px;
            min-height: 44px; font-weight: 500;
        }

        .btn-zone { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .ui-btn { 
            background: white; border: 2px solid #4A90E2; color: #4A90E2; 
            padding: 10px 22px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 18px;
            transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .ui-btn:hover { background: #4A90E2; color: white; }
        
        .ans-btn { border-color: #555; color: #555; }
        .ans-btn:hover { background: #555; color: white; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="main-container">
    <div class="lang-panel">
        <div class="l-btn" id="btn-de" onclick="setLanguage('de')">DE</div>
        <div class="l-btn" id="btn-en" onclick="setLanguage('en')">EN</div>
        <div class="l-btn active" id="btn-ru" onclick="setLanguage('ru')">RU</div>
    </div>

    <div class="pig-area">
        <svg class="pig-body" viewBox="0 0 200 150">
            <path d="M170,80 c0,40-30,60-70,60 s-70-20-70-60 s30-60 70-60 s70,20,70,60" fill="none" stroke="#555" stroke-width="2"/>
            <path d="M70,35 l-10-15 l-10,15 Z" fill="none" stroke="#555" />
            <path d="M130,35 l10-15 l10,15 Z" fill="none" stroke="#555" />
            <ellipse cx="178" cy="80" rx="6" ry="10" fill="none" stroke="#555" />
        </svg>
        <div id="progress" class="fill-level"></div>
    </div>

    <div class="stats"><span id="lbl-bank">Баллы</span>: <span id="val-score">0</span></div>

    <div class="question-box" id="q-text">...</div>

    <div id="bet-ui" class="btn-zone">
        <button class="ui-btn" onclick="makeBet(10)">10</button>
        <button class="ui-btn" onclick="makeBet(25)">25</button>
        <button class="ui-btn" onclick="makeBet(50)">50</button>
    </div>

    <div id="ans-ui" class="btn-zone hidden"></div>
</div>

<script>
    const data = {
        lang: 'ru',
        score: 0,
        currentQ: 0,
        currentBet: 0,
        target: 200,
        questions: [
            { q: "Emil ... um neun Uhr gefühstückt.", a: ["ist", "hat"], c: 1 },
            { q: "Er ... um drei Uhr Sport gemacht.", a: ["hat", "ist"], c: 0 }
        ]
    };

    const lexicon = {
        ru: { bank: "Накоплено баллов" },
        en: { bank: "Points earned" },
        de: { bank: "Gesammelte Punkte" }
    };

    function setLanguage(l) {
        data.lang = l;
        document.querySelectorAll('.l-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + l).classList.add('active');
        refreshUI();
    }

    function refreshUI() {
        document.getElementById('lbl-bank').innerText = lexicon[data.lang].bank;
        document.getElementById('val-score').innerText = data.score;
        document.getElementById('q-text').innerText = data.questions[data.currentQ].q;
        
        let fillH = Math.min(85, (data.score / data.target) * 85);
        document.getElementById('progress').style.height = fillH + '%';
    }

    function makeBet(val) {
        data.currentBet = val;
        document.getElementById('bet-ui').classList.add('hidden');
        const ansZone = document.getElementById('ans-ui');
        ansZone.classList.remove('hidden');
        ansZone.innerHTML = '';

        data.questions[data.currentQ].a.forEach((txt, i) => {
            const b = document.createElement('button');
            b.className = 'ui-btn ans-btn';
            b.innerText = txt;
            b.onclick = () => finishTurn(i);
            ansZone.appendChild(b);
        });
    }

    function finishTurn(idx) {
        if (idx === data.questions[data.currentQ].c) {
            data.score += data.currentBet;
        } else {
            data.score = Math.max(0, data.score - data.currentBet);
        }
        data.currentQ = (data.currentQ + 1) % data.questions.length;
        document.getElementById('ans-ui').classList.add('hidden');
        document.getElementById('bet-ui').classList.remove('hidden');
        refreshUI();
    }

    setLanguage('ru');
</script>
</body>
</html>
