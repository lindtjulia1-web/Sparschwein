<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { background: transparent; font-family: 'Segoe UI', Arial, sans-serif; display: flex; justify-content: center; margin: 0; color: white; }
        .widget-body { width: 420px; background: #1a1a1a; border-radius: 28px; padding: 25px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.8); border: 1px solid #333; }
        
        /* –Ø–∑—ã–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .langs { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 15px; }
        .langs button { background: #2a2a2a; border: 1px solid #444; color: #888; border-radius: 6px; cursor: pointer; padding: 4px 10px; font-size: 12px; transition: 0.3s; }
        .langs button:hover { border-color: #ffcc00; color: white; }

        /* –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –°–í–ò–ù–¨–ò (–∏–∑ –≤–∞—à–µ–≥–æ –º–∞–∫–µ—Ç–∞) */
        .pig-container {
            position: relative; width: 300px; height: 180px; margin: 0 auto 20px;
            background: url('https://i.ibb.co/3Y8M4v8/glass-pig-template.png') no-repeat center;
            background-size: contain; display: flex; align-items: flex-end; justify-content: center;
        }
        .sand-fill {
            width: 180px; height: 0%; 
            background: linear-gradient(to top, #bf953f, #fcf6ba, #b38728);
            transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 0 0 80px 80px; margin-bottom: 25px; opacity: 0.9;
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.2);
        }

        .balance { font-size: 26px; margin-bottom: 20px; font-weight: bold; }
        #val { color: #ffcc00; }

        /* –ò–ì–†–û–í–´–ï –≠–ö–†–ê–ù–´ */
        .screen { min-height: 200px; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .question-box { font-size: 20px; margin-bottom: 20px; line-height: 1.4; color: #efefef; }

        /* –ö–í–ê–î–†–ê–¢–´ –°–¢–ê–í–û–ö (–∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ) */
        .bet-grid { display: flex; justify-content: center; gap: 15px; }
        .bet-card {
            width: 80px; height: 60px; border: 2px solid #ffcc00; border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            color: #ffcc00; font-size: 22px; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .bet-card:hover { background: #ffcc00; color: black; transform: scale(1.05); }

        /* –í–ê–†–ò–ê–ù–¢–´ –û–¢–í–ï–¢–û–í */
        .ans-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .ans-btn {
            background: #2a2a2a; border: 1px solid #444; color: white; padding: 15px;
            border-radius: 12px; cursor: pointer; font-size: 16px; transition: 0.2s;
        }
        .ans-btn:hover { border-color: #ffcc00; background: #333; }

        /* –§–ò–î–ë–ï–ö */
        .feedback { font-size: 40px; margin-bottom: 10px; }
        .next-btn { background: #ffcc00; color: black; border: none; padding: 12px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 15px; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="widget-body">
    <div class="langs">
        <button onclick="setLang('de')">DE</button>
        <button onclick="setLang('en')">EN</button>
        <button onclick="setLang('ru')">RU</button>
    </div>

    <div class="pig-container">
        <div id="gold" class="sand-fill"></div>
    </div>

    <div class="balance">
        <span id="L-bank">Gesamt:</span> <span id="val">0</span>
    </div>

    <div id="scr-bet" class="screen">
        <div id="q-text" class="question-box">Warten –Ω–∞ –≤–æ–ø—Ä–æ—Å...</div>
        <div id="L-bet-msg" style="color: #888; margin-bottom: 15px;">W√§hlen Sie Ihre Wette:</div>
        <div class="bet-grid">
            <div class="bet-card" onclick="makeBet(10)">10</div>
            <div class="bet-card" onclick="makeBet(25)">25</div>
            <div class="bet-card" onclick="makeBet(50)">50</div>
        </div>
    </div>

    <div id="scr-ans" class="screen hidden">
        <div class="ans-grid" id="ans-box"></div>
    </div>

    <div id="scr-res" class="screen hidden">
        <div id="status-icon" class="feedback"></div>
        <div id="res-msg" style="font-size: 18px; margin-bottom: 10px;"></div>
        <button class="next-btn" onclick="toNext()">CONTINUE</button>
    </div>
</div>

<script>
    let total = 0;
    let bet = 0;
    let currentIdx = 0;
    let currentL = 'de';

    // –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–¥–∞–Ω–∏–π (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å)
    const content = [
        { q: "Er ... um drei Uhr Sport ...", o: ["hat ... gemacht", "ist ... gemacht"], c: 0 },
        { q: "Emil ... um neun Uhr ...", o: ["ist ... gefr√ºhst√ºckt", "hat ... gefr√ºhst√ºckt"], c: 1 }
    ];

    const i18n = {
        ru: { bank: "–í—Å–µ–≥–æ:", bet: "–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–≤–∫—É:", win: "–û—Ç–ª–∏—á–Ω–æ!", lose: "–†–∏—Å–∫ –Ω–µ –æ–ø—Ä–∞–≤–¥–∞–ª—Å—è" },
        en: { bank: "Total:", bet: "Select your bet:", win: "Correct!", lose: "Risk failed" },
        de: { bank: "Gesamt:", bet: "W√§hlen Sie Ihre Wette:", win: "Richtig!", lose: "Risiko gescheitert" }
    };

    function setLang(l) {
        currentL = l;
        document.getElementById('L-bank').innerText = i18n[l].bank;
        document.getElementById('L-bet-msg').innerText = i18n[l].bet;
        refreshQuestion();
    }

    function refreshQuestion() {
        document.getElementById('q-text').innerText = content[currentIdx].q;
        const box = document.getElementById('ans-box');
        box.innerHTML = '';
        content[currentIdx].o.forEach((opt, i) => {
            box.innerHTML += `<button class="ans-btn" onclick="handleAns(${i})">${opt}</button>`;
        });
    }

    function makeBet(v) {
        bet = v;
        document.getElementById('scr-bet').classList.add('hidden');
        document.getElementById('scr-ans').classList.remove('hidden');
    }

    function handleAns(i) {
        const isWin = i === content[currentIdx].c;
        const icon = document.getElementById('status-icon');
        const msg = document.getElementById('res-msg');

        if(isWin) {
            total += bet;
            icon.innerText = "üèÜ";
            msg.innerText = i18n[currentL].win;
            msg.style.color = "#4caf50";
        } else {
            total = Math.max(0, total - bet);
            icon.innerText = "‚ùå";
            msg.innerText = i18n[currentL].lose;
            msg.style.color = "#f44336";
        }

        updateProgress();
        document.getElementById('scr-ans').classList.add('hidden');
        document.getElementById('scr-res').classList.remove('hidden');
    }

    function updateProgress() {
        document.getElementById('val').innerText = total;
        // –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–≤–∏–Ω—å–∏ (–º–∞–∫—Å 250 –º–æ–Ω–µ—Ç –¥–ª—è 85% –≤—ã—Å–æ—Ç—ã)
        let fill = Math.min(85, (total / 250) * 85);
        document.getElementById('gold').style.height = fill + "%";
    }

    function toNext() {
        currentIdx = (currentIdx + 1) % content.length;
        refreshQuestion();
        document.getElementById('scr-res').classList.add('hidden');
        document.getElementById('scr-bet').classList.remove('hidden');
    }

    refreshQuestion();
</script>
</body>
</html>
