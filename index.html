<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <style>
        :root { --accent: #ffcc00; --bg: #0d0d0d; }
        body { background: transparent; color: #fff; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        
        .game-card { background: #111; padding: 25px; border-radius: 35px; border: 1px solid #222; width: 420px; box-shadow: 0 20px 50px rgba(0,0,0,0.8); position: relative; }
        
        /* –ö–û–ù–¢–ï–ô–ù–ï–† –°–û –°–í–ò–ù–ö–û–ô –ò –ü–ï–°–ö–û–ú */
        .pig-container {
            position: relative;
            width: 320px;
            height: 220px;
            margin: 0 auto;
        }

        /* SVG –ú–∞—Å–∫–∞ –¥–ª—è –ø–µ—Å–∫–∞ */
        .pig-svg-canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }

        /* –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å–≤–∏–Ω–∫–∏ –ø–æ–≤–µ—Ä—Ö –ø–µ—Å–∫–∞ */
        .pig-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: url('https://img.genially.com/666ae277f4d337001522cf25/dd99430b-967b-402c-b51c-4b1464309f3e.png') no-repeat center;
            background-size: contain;
            z-index: 2; /* –ü–æ–≤–µ—Ä—Ö –ø–µ—Å–∫–∞ */
            pointer-events: none;
        }

        .score-val { font-size: 50px; color: var(--accent); font-weight: bold; margin-top: -10px; text-shadow: 0 0 15px rgba(255,204,0,0.3); }
        .q-text { font-size: 18px; min-height: 50px; margin: 15px 0; color: #eee; line-height: 1.4; }
        
        .btn-row { display: flex; gap: 10px; justify-content: center; min-height: 60px; }
        .btn { 
            background: transparent; border: 2px solid var(--accent); color: var(--accent); 
            padding: 12px 24px; border-radius: 12px; cursor: pointer; font-weight: bold; 
            transition: 0.2s; font-size: 16px;
        }
        .btn:hover { background: rgba(255,204,0,0.1); transform: translateY(-2px); }
        .btn:active { transform: scale(0.95); }

        .fb-msg { position: absolute; top: 110px; left: 50%; transform: translateX(-50%); font-weight: bold; font-size: 20px; z-index: 10; pointer-events: none; transition: 0.4s; opacity: 0; }
        .fb-show { opacity: 1; top: 90px; }
    </style>
</head>
<body>

<div class="game-card">
    <div class="pig-container">
        <svg class="pig-svg-canvas" viewBox="0 0 320 220">
            <defs>
                <clipPath id="pigMask">
                    <path d="M245,115 c0-45-40-75-95-75 c-55,0-90,30-100,65 c-15,5-25,0-30-10 c-5-10-10,0-5,10 c5,15,20,25,30,30 c0,25,5,40,15,40 c15,0,20-15,25-25 h110 c5,10,10,25,25,25 c15,0,20-25,20-35 C220,135,245,130,245,115z" />
                </clipPath>
                <linearGradient id="goldSand" x1="0" y1="1" x2="0" y2="0">
                    <stop offset="0%" stop-color="#b8860b" />
                    <stop offset="50%" stop-color="#ffd700" />
                    <stop offset="100%" stop-color="#fff2ac" />
                </linearGradient>
            </defs>
            <rect id="sandRect" x="0" y="220" width="320" height="0" fill="url(#goldSand)" clip-path="url(#pigMask)" style="transition: all 0.8s ease-out;" />
        </svg>
        <div class="pig-overlay"></div>
        <div id="fb" class="fb-msg"></div>
    </div>
    
    <div id="score" class="score-val">0</div>
    <div id="question" class="q-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div id="controls" class="btn-row"></div>
</div>

<script>
    const config = {
        lang: "RU",
        goal: 200,
        questions: [
            { q: "Emil ... um neun Uhr gef√ºhst√ºckt.", a: ["ist", "hat"], c: 1 },
            { q: "Wir ... gestern im Kino.", a: ["haben", "waren"], c: 1 },
            { q: "Ich ... meine Hausaufgaben gemacht.", a: ["habe", "bin"], c: 0 }
        ],
        msg: { correct: "–û–¢–õ–ò–ß–ù–û! +", wrong: "–û–®–ò–ë–ö–ê! -" }
    };

    let score = 0, currentQ = 0, bet = 0, phase = 'BET';

    function render() {
        const q = config.questions[currentQ];
        const ctrl = document.getElementById('controls');
        const qBox = document.getElementById('question');
        
        if (!q) {
            qBox.innerText = "–£–†–ê! –í–°–Å –ó–ê–ü–û–õ–ù–ï–ù–û!";
            ctrl.innerHTML = '<button class="btn" onclick="location.reload()">–ó–ê–ù–û–í–û</button>';
            return;
        }

        ctrl.innerHTML = "";
        
        if (phase === 'BET') {
            qBox.innerText = "–í–´–ë–ï–†–ò –°–¢–ê–í–ö–£ (–£–í–ï–†–ï–ù–ù–û–°–¢–¨):";
            [10, 25, 50].forEach(amt => {
                let b = document.createElement('button');
                b.className = "btn";
                b.innerText = "üí∞ " + amt;
                b.onclick = () => { bet = amt; phase = 'ANS'; render(); };
                ctrl.appendChild(b);
            });
        } else {
            qBox.innerText = q.q;
            q.a.forEach((txt, i) => {
                let b = document.createElement('button');
                b.className = "btn";
                b.innerText = txt;
                b.onclick = () => check(i);
                ctrl.appendChild(b);
            });
        }
        updatePig();
    }

    function check(idx) {
        const correct = idx === config.questions[currentQ].c;
        const fb = document.getElementById('fb');
        
        if (correct) {
            score += bet;
            fb.innerText = config.msg.correct + bet;
            fb.style.color = "#44ff44";
        } else {
            score = Math.max(0, score - bet);
            fb.innerText = config.msg.wrong + bet;
            fb.style.color = "#ff4444";
        }

        fb.classList.add('fb-show');
        setTimeout(() => {
            fb.classList.remove('fb-show');
            currentQ++;
            phase = 'BET';
            render();
        }, 1200);
    }

    function updatePig() {
        document.getElementById('score').innerText = score;
        const pct = Math.min(1, score / config.goal);
        const sand = document.getElementById('sandRect');
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã—Å–æ—Ç—É –∏ –ø–æ–∑–∏—Ü–∏—é Y —Ç–∞–∫, —á—Ç–æ–±—ã –ø–µ—Å–æ–∫ —Ä–æ—Å —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –≤–Ω—É—Ç—Ä–∏ –º–∞—Å–∫–∏
        const h = pct * 140; 
        sand.setAttribute('height', h);
        sand.setAttribute('y', 170 - h);
    }

    render();
</script>
</body>
</html>
