<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <style>
        /* Стили для Genially: полная прозрачность фона */
        body, html { margin: 0; padding: 0; background: transparent; overflow: hidden; font-family: 'Segoe UI', sans-serif; height: 100%; }
        
        .widget-container {
            width: 100%; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white;
        }

        /* Переключатель языков */
        .lang-bar { position: absolute; top: 10px; right: 10px; display: flex; gap: 5px; }
        .l-btn { font-size: 10px; border: 1px solid rgba(255,255,255,0.3); padding: 2px 6px; border-radius: 4px; cursor: pointer; color: #888; }
        .l-btn.active { color: #ffcc00; border-color: #ffcc00; }

        /* Стеклянная свинка (рисуется кодом) */
        .pig-box { position: relative; width: 280px; height: 180px; display: flex; align-items: flex-end; justify-content: center; margin-bottom: 10px; }
        .pig-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; pointer-events: none; }
        .gold-fill { 
            width: 170px; height: 0%; 
            background: linear-gradient(to top, #b8860b, #ffd700, #fff5a0); 
            border-radius: 0 0 80px 80px; margin-bottom: 25px; 
            transition: height 0.8s ease-out; box-shadow: 0 0 15px rgba(255, 215, 0, 0.4); z-index: 2; 
        }

        .bank-info { font-size: 24px; color: #ffcc00; margin-bottom: 20px; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

        /* Интерфейс игры */
        .game-content { text-align: center; width: 90%; max-width: 400px; }
        .question-text { font-size: 18px; margin-bottom: 20px; min-height: 50px; line-height: 1.4; }

        .btn-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 10px; justify-content: center; }
        .action-btn { 
            background: rgba(0,0,0,0.4); border: 2px solid #ffcc00; color: #ffcc00; 
            padding: 12px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 18px; transition: 0.2s;
        }
        .action-btn:hover { background: #ffcc00; color: black; transform: translateY(-2px); }
        
        .ans-item { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); backdrop-filter: blur(5px); font-size: 16px; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="widget-container">
    <div class="lang-bar">
        <div class="l-btn" onclick="setLang('de')">DE</div>
        <div class="l-btn" onclick="setLang('en')">EN</div>
        <div class="l-btn active" onclick="setLang('ru')">RU</div>
    </div>

    <div class="pig-box">
        <svg class="pig-svg" viewBox="0 0 200 150">
            <path d="M170,80 c0,40-30,60-70,60 s-70-20-70-60 s30-60 70-60 s70,20,70,60" fill="none" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
            <path d="M70,35 l-10-15 l-10,15 Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.3)" />
            <path d="M130,35 l10-15 l10,15 Z" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.3)" />
            <ellipse cx="178" cy="80" rx="7" ry="11" fill="rgba(0,0,0,0.3)" stroke="rgba(255,255,255,0.4)" />
        </svg>
        <div id="liquid" class="gold-fill"></div>
    </div>

    <div class="bank-info"><span id="lbl-total">Всего</span>: <span id="val-score">0</span></div>

    <div class="game-content">
        <div id="q-text" class="question-text">Загрузка...</div>
        
        <div id="screen-bet" class="btn-grid">
            <button class="action-btn" onclick="placeBet(10)">10</button>
            <button class="action-btn" onclick="placeBet(25)">25</button>
            <button class="action-btn" onclick="placeBet(50)">50</button>
        </div>

        <div id="screen-ans" class="btn-grid hidden"></div>
    </div>
</div>

<script>
    // ДАННЫЕ ИГРЫ (Можно редактировать прямо здесь)
    const config = {
        lang: 'ru',
        goal: 200, // Сколько нужно для полной свиньи
        questions: [
            { q: "Emil ... um девять часов gefühstückt.", a: ["ist", "hat"], c: 1 },
            { q: "Er ... um три часа Sport gemacht.", a: ["hat", "ist"], c: 0 }
        ]
    };

    const strings = {
        ru: { total: "Всего", bet: "Выберите ставку" },
        de: { total: "Gesamt", bet: "Wählen Sie Ihre Wette" },
        en: { total: "Total", bet: "Choose your bet" }
    };

    let score = 0, curQ = 0, curBet = 0;

    function init() {
        curQ = 0; score = 0;
        updateUI();
        showBetStep();
    }

    function showBetStep() {
        document.getElementById('q-text').innerText = config.questions[curQ].q;
        document.getElementById('screen-bet').classList.remove('hidden');
        document.getElementById('screen-ans').classList.add('hidden');
    }

    function placeBet(val) {
        curBet = val;
        document.getElementById('screen-bet').classList.add('hidden');
        const ansScreen = document.getElementById('screen-ans');
        ansScreen.classList.remove('hidden');
        ansScreen.innerHTML = '';
        
        config.questions[curQ].a.forEach((txt, i) => {
            const btn = document.createElement('button');
            btn.className = 'action-btn ans-item';
            btn.innerText = txt;
            btn.onclick = () => checkAns(i);
            ansScreen.appendChild(btn);
        });
    }

    function checkAns(idx) {
        if (idx === config.questions[curQ].c) {
            score += curBet;
        } else {
            score = Math.max(0, score - curBet);
        }
        updateUI();
        curQ = (curQ + 1) % config.questions.length;
        showBetStep();
    }

    function updateUI() {
        document.getElementById('val-score').innerText = score;
        document.getElementById('lbl-total').innerText = strings[config.lang].total;
        const fillPercent = Math.min(85, (score / config.goal) * 85);
        document.getElementById('liquid').style.height = fillPercent + '%';
    }

    function setLang(l) {
        config.lang = l;
        document.querySelectorAll('.l-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        updateUI();
    }

    init();
</script>
</body>
</html>
