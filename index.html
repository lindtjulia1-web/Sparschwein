<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <style>
        :root {
            --gold: #f9e076;
            --gold-deep: #bf953f;
            --gold-glow: rgba(249, 224, 118, 0.4);
            --bg-dark: #1a1a1a;
            --card-bg: #222222;
        }

        body { 
            background: #0f0f0f; 
            margin: 0; 
            font-family: 'Segoe UI', sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            color: white;
        }

        .game-card {
            width: 420px; 
            background: var(--card-bg); 
            border-radius: 30px; 
            padding: 30px;
            text-align: center; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            border: 1px solid #333;
            position: relative;
        }

        /* Экран со свинкой (как на картинке) */
        .pig-display {
            background: #111;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #282828;
            position: relative;
        }

        .pig-svg { 
            width: 100%; 
            height: 200px; 
            filter: drop-shadow(0 0 10px var(--gold-glow));
        }

        .score-display {
            text-align: left;
            margin-top: -40px;
            padding-left: 10px;
            position: relative;
            z-index: 10;
        }

        .score-label { font-size: 14px; color: #888; margin-bottom: 5px; }
        .score-value { 
            font-size: 48px; 
            font-weight: bold; 
            color: var(--gold); 
            text-shadow: 0 0 15px var(--gold-glow);
        }

        /* Кнопки и интерфейс */
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        
        .btn {
            background: #2a2a2a; border: 1px solid #444; color: #ddd;
            padding: 12px; border-radius: 8px; cursor: pointer;
            font-size: 14px; transition: 0.3s;
        }
        .btn:hover { border-color: var(--gold); color: white; background: #333; }
        
        .btn-main {
            grid-column: span 2;
            background: linear-gradient(to bottom, var(--gold), var(--gold-deep));
            color: #000; font-weight: bold; border: none; text-transform: uppercase;
        }

        .lang-switch { position: absolute; top: 15px; right: 15px; display: flex; gap: 5px; }
        .lang-btn { 
            background: #333; border: none; color: #888; padding: 4px 8px; 
            border-radius: 4px; font-size: 10px; cursor: pointer; 
        }
        .lang-btn.active { background: var(--gold); color: black; }

        .hidden { display: none; }
        
        #sand-rect { transition: all 1s ease-in-out; }
    </style>
</head>
<body>

<div class="game-card">
    <div class="lang-switch">
        <button class="lang-btn active" onclick="setLang('ru', this)">RU</button>
        <button class="lang-btn" onclick="setLang('en', this)">EN</button>
        <button class="lang-btn" onclick="setLang('de', this)">DE</button>
    </div>

    <div class="pig-display">
        <svg class="pig-svg" viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <filter id="grainy-sand">
                    <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="4" result="noise" />
                    <feComposite operator="in" in2="SourceGraphic" />
                </filter>
                
                <linearGradient id="sand-grad" x1="0" y1="1" x2="0" y2="0">
                    <stop offset="0%" stop-color="#bf953f" />
                    <stop offset="100%" stop-color="#f9e076" />
                </linearGradient>

                <mask id="pig-shape-mask">
                    <path d="M220,50 C260,50 280,80 280,110 C280,140 250,170 200,175 L195,185 L175,185 L180,175 L120,175 L125,185 L105,185 L100,175 C50,170 20,140 20,110 C20,80 50,50 100,50 C100,30 130,20 150,20 C170,20 200,30 200,50" fill="white" />
                </mask>
            </defs>

            <path d="M220,50 C260,50 280,80 280,110 C280,140 250,170 200,175 L195,185 L175,185 L180,175 L120,175 L125,185 L105,185 L100,175 C50,170 20,140 20,110 C20,80 50,50 100,50 C100,30 130,20 150,20 C170,20 200,30 200,50 Z" 
                  fill="none" stroke="#f9e076" stroke-width="2.5" opacity="0.9" />

            <circle cx="240" cy="85" r="4" fill="#f9e076" />
            <path d="M20,110 L10,110 Q5,110 5,105 Q5,100 10,100 L20,100" fill="none" stroke="#f9e076" stroke-width="1.5" /> <path d="M280,110 Q295,110 295,100 T285,90" fill="none" stroke="#f9e076" stroke-width="1.5" /> <g mask="url(#pig-shape-mask)">
                <rect id="sand-rect" x="0" y="200" width="300" height="0" fill="url(#sand-grad)" filter="url(#grainy-sand)" />
            </g>
        </svg>

        <div class="score-display">
            <div class="score-label">score</div>
            <div class="score-value" id="total-val">0</div>
        </div>
    </div>

    <div id="game-ui">
        <div id="question" style="min-height: 50px; font-size: 16px; margin-bottom: 20px;">Выберите сложность:</div>
        
        <div id="diff-screen" class="btn-grid">
            <button class="btn" onclick="initGame('easy')">EASY</button>
            <button class="btn" onclick="initGame('hard')">HARD</button>
        </div>

        <div id="bet-screen" class="btn-grid hidden">
            <button class="btn" onclick="askQuestion(10)">10</button>
            <button class="btn" onclick="askQuestion(25)">25</button>
            <button class="btn" onclick="askQuestion(50)">50</button>
        </div>

        <div id="ans-screen" class="btn-grid hidden"></div>

        <div id="res-screen" class="hidden">
            <div id="res-msg" style="margin-bottom: 15px; font-weight: bold;"></div>
            <button class="btn btn-main" id="next-btn" onclick="nextAction()">ДАЛЕЕ</button>
        </div>
    </div>
</div>

<script>
    // Логика остается прежней, только обновляем визуальные элементы
    let score = 0, difficulty = 'easy', currentBet = 0, curLang = 'ru', qIdx = 0;
    const MAX_SCORE = 500;

    const data = {
        ru: { next: "ДАЛЕЕ", win: "ВЕРНО!", loss: "УТЕЧКА ПЕСКА...", easy: [{q:"Ich ... (haben) ein Haus.", a:["habe","hast","hat","haben"], c:0}] },
        en: { next: "NEXT", win: "CORRECT!", loss: "SAND LEAK...", easy: [{q:"I ... (be) a student.", a:["am","is","are","be"], c:0}] }
        // ... (остальные вопросы из вашего кода)
    };

    function updateSandLevel() {
        const sand = document.getElementById('sand-rect');
        const fillHeight = (score / MAX_SCORE) * 180; 
        sand.setAttribute('y', 200 - fillHeight);
        sand.setAttribute('height', fillHeight);
        document.getElementById('total-val').innerText = score;
    }

    function initGame(d) {
        difficulty = d;
        document.getElementById('diff-screen').classList.add('hidden');
        showBetScreen();
    }

    function showBetScreen() {
        document.getElementById('bet-screen').classList.remove('hidden');
        document.getElementById('res-screen').classList.add('hidden');
        document.getElementById('question').innerText = "Выберите ставку:";
    }

    function askQuestion(bet) {
        currentBet = bet;
        document.getElementById('bet-screen').classList.add('hidden');
        document.getElementById('ans-screen').classList.remove('hidden');
        // Здесь ваша логика вывода вопроса
        document.getElementById('question').innerText = data[curLang][difficulty][0].q; 
        const ansBox = document.getElementById('ans-screen');
        ansBox.innerHTML = '';
        data[curLang][difficulty][0].a.forEach((txt, i) => {
            ansBox.innerHTML += `<button class="btn" onclick="checkAnswer(${i})">${txt}</button>`;
        });
    }

    function checkAnswer(idx) {
        const isCorrect = idx === 0; // упрощено для примера
        if(isCorrect) score += currentBet; else score = Math.max(0, score - currentBet);
        
        document.getElementById('ans-screen').classList.add('hidden');
        document.getElementById('res-screen').classList.remove('hidden');
        document.getElementById('res-msg').innerText = isCorrect ? "ВЕРНО!" : "ОШИБКА!";
        updateSandLevel();
    }

    function nextAction() {
        showBetScreen();
    }

    function setLang(l, btn) {
        curLang = l;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }
</script>
</body>
</html>
