<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { background: transparent; font-family: Arial, sans-serif; display: flex; justify-content: center; margin: 0; color: white; }
        
        /* Главный контейнер как на макете */
        .widget-body {
            width: 400px; background: #151515; border-radius: 25px; padding: 25px;
            text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.9);
        }

        /* Языковая панель */
        .langs { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 10px; }
        .langs button { background: #333; border: 1px solid #444; color: #888; border-radius: 4px; cursor: pointer; padding: 3px 8px; font-size: 11px; }
        .langs button.active { border-color: gold; color: white; }

        /* СТЕКЛЯННАЯ СВИНЬЯ (Центральный элемент макета) */
        .pig-container {
            position: relative; width: 280px; height: 180px; margin: 0 auto 20px;
            /* Ссылка на то самое изображение свинки с макета */
            background: url('https://i.ibb.co/3Y8M4v8/glass-pig-template.png') no-repeat center;
            background-size: contain; overflow: hidden; display: flex; align-items: flex-end; justify-content: center;
        }

        /* Золотой песок внутри свинки */
        .sand-level {
            width: 170px; height: 0%; 
            background: linear-gradient(to top, #bf953f, #fcf6ba, #b38728);
            transition: height 1s ease-in-out; border-radius: 0 0 70px 70px;
            margin-bottom: 25px; opacity: 0.8;
        }

        .stats { font-size: 24px; margin-bottom: 15px; }
        .stats span#val { color: gold; font-weight: bold; }

        .hint { color: #666; font-size: 14px; margin-bottom: 15px; }

        /* Квадраты ставок с макета */
        .bets { display: flex; justify-content: center; gap: 15px; }
        .bet-sq {
            width: 75px; height: 55px; border: 2px solid gold; border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 20px; font-weight: bold; cursor: pointer; transition: 0.2s;
        }
        .bet-sq:hover { background: gold; color: black; transform: scale(1.05); }

        /* Кнопки ответов (появляются после ставки) */
        .ans-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .ans-btn { background: #222; border: 1px solid #444; color: white; padding: 12px; border-radius: 10px; cursor: pointer; }
        .ans-btn:hover { border-color: gold; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="widget-body">
    <div class="langs">
        <button onclick="setL('de')">DE</button>
        <button onclick="setL('en')">EN</button>
        <button onclick="setL('ru')">RU</button>
    </div>

    <div class="pig-container">
        <div id="gold" class="sand-level"></div>
    </div>

    <div class="stats">
        <span id="L-total">Gesamt:</span> <span id="val">0</span>
    </div>

    <div id="step1">
        <p id="q-text" style="font-size:18px; margin-bottom:10px;">Question text...</p>
        <div id="L-hint" class="hint">Einsatz wählen:</div>
        <div class="bets">
            <div class="bet-sq" onclick="place(10)">10</div>
            <div class="bet-sq" onclick="place(25)">25</div>
            <div class="bet-sq" onclick="place(50)">50</div>
        </div>
    </div>

    <div id="step2" class="hidden">
        <div id="options" class="ans-grid"></div>
    </div>

    <div id="step3" class="hidden">
        <p id="res-msg" style="font-weight:bold; font-size:20px;"></p>
        <button class="ans-btn" style="width:100%; border-color:gold; margin-top:10px;" onclick="reset()">Next Question</button>
    </div>
</div>

<script>
    let score = 0;
    let bet = 0;
    let cur = 0;

    const data = [
        { q: "Choose the correct form: I ___ (be) at home.", o: ["am", "is", "are", "was"], c: 0 },
        { q: "Translate 'Confidence':", o: ["Уверенность", "Риск", "Ошибка", "Урок"], c: 0 }
    ];

    const i18n = {
        ru: { total: "Всего:", hint: "Выберите ставку:", win: "Верно!", lose: "Ошибка" },
        en: { total: "Total:", hint: "Place your bet:", win: "Correct!", lose: "Wrong" },
        de: { total: "Gesamt:", hint: "Einsatz wählen:", win: "Richtig!", lose: "Falsch" }
    };

    function setL(l) {
        document.getElementById('L-total').innerText = i18n[l].total;
        document.getElementById('L-hint').innerText = i18n[l].hint;
        render();
    }

    function render() {
        document.getElementById('q-text').innerText = data[cur].q;
        const optBox = document.getElementById('options');
        optBox.innerHTML = '';
        data[cur].o.forEach((item, i) => {
            optBox.innerHTML += `<button class="ans-btn" onclick="check(${i})">${item}</button>`;
        });
    }

    function place(v) {
        bet = v;
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('step2').classList.remove('hidden');
    }

    function check(idx) {
        const win = idx === data[cur].c;
        const msg = document.getElementById('res-msg');
        
        if(win) {
            score += bet;
            msg.innerText = "✓"; msg.style.color = "#4caf50";
        } else {
            score = Math.max(0, score - bet);
            msg.innerText = "✗"; msg.style.color = "#f44336";
        }

        document.getElementById('val').innerText = score;
        let h = Math.min(85, (score / 200) * 85); 
        document.getElementById('gold').style.height = h + "%";

        document.getElementById('step2').classList.add('hidden');
        document.getElementById('step3').classList.remove('hidden');
    }

    function reset() {
        cur = (cur + 1) % data.length;
        render();
        document.getElementById('step3').classList.add('hidden');
        document.getElementById('step1').classList.remove('hidden');
    }

    render();
</script>

</body>
</html>
